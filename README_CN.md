# 🤖 AI多币种自动交易系统

<div align="center">

**让AI替你盯盘交易 | 24/7全自动运行 | 多币种投资组合管理**

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](LICENSE)
[![Binance](https://img.shields.io/badge/Exchange-Binance-yellow.svg)](https://www.binance.com/)
[![DeepSeek](https://img.shields.io/badge/AI-DeepSeek-purple.svg)](https://www.deepseek.com/)

[🇨🇳 中文](README_CN.md) | [🇺🇸 English](README_EN.md)

</div>

---

## 💭 作者的话

> *"经历了生活的大亏损、在币圈也没获得什么结果，我对自己的水平彻底失望。*  
> *与其每天假装看盘实则在赌，不如把决策交给AI——至少它不会因为行情波动而梭哈。*  
> *这个项目源于一个简单的期望：AI再不完美也比我强。"*

### ⚠️ 重要提醒

**AI交易无法保证盈利，市场有风险，投资需谨慎。**  
本项目仅供学习交流，使用者需自行承担交易风险。  
请理性看待AI的决策能力，合理控制仓位，切勿盲目信任。

**没有收费也没有挂邀请码，只求各位给星星** ⭐

---

## 📖 项目简介

这是一个基于 **DeepSeek AI** 的**全自动加密货币交易系统**，专注于**多币种投资组合管理**。

### 🆚 与单币种版本的核心区别

| 特性 | 单币种版本 | 多币种版本（本项目） |
|------|----------|-----------------|
| **管理方式** | 只交易1个币种（如BNB） | 同时管理5-8个币种 |
| **资金分配** | 全部资金投入单币种 | 智能分配，分散风险 |
| **市场机会** | 只能抓住单一币种机会 | 扫描多个市场，捕捉最佳时机 |
| **风险控制** | 风险集中 | 风险分散，不会因单币暴跌血亏 |
| **收益潜力** | 依赖单币行情 | 多币轮动，收益更稳定 |
| **使用场景** | 适合专注某个币种 | 适合投资组合管理 |

---

## 🎯 核心优势

### 1. 🧠 **AI全自动决策 - 完全解放双手**

**你需要做的只有三步：**
1. 启动程序
2. 设置初始资金
3. 躺着等收益（或亏损😅）

**AI会自动完成：**
- ✅ 每小时扫描市场，分析所有币种
- ✅ 判断是涨是跌，决定做多还是做空
- ✅ 自动开仓、平仓、调整仓位
- ✅ 自动止损止盈，保护本金
- ✅ 记录每一笔交易和决策理由

**再也不用：**
- ❌ 盯盘看K线到眼睛酸
- ❌ 半夜被行情惊醒
- ❌ 纠结要不要止损
- ❌ 因为贪婪或恐惧做出错误决策

---

### 2. 📊 **多币种投资组合 - 鸡蛋不放一个篮子**

**为什么多币种更好？**

假设你有 1000 USDT：

**❌ 单币种策略（高风险）：**
```
全部买 BTC → BTC暴跌20% → 你亏200 USDT → 💔
```

**✅ 多币种策略（分散风险）：**
```
200 买 BTC（跌20%，亏40）
200 买 ETH（涨10%，赚20）
200 买 SOL（跌5%，亏10）
200 买 BNB（涨15%，赚30）
200 买 DOGE（涨8%，赚16）
-----------------------------------
总盈亏：+16 USDT → 😊
```

**本系统的智能分配：**
- 🎯 **自动扫描** - 每小时扫描8个主流币种
- 🤖 **AI选择** - 选择最有机会的币种开仓
- ⚖️ **智能平衡** - 每个币种不超过20%资金
- 🛡️ **风险控制** - 最多持有5个币种，避免过度分散

---

### 3. 🎨 **实时可视化看板 - 一目了然**

**不用登录交易所，直接看看板就知道：**

#### 📸 看板界面展示

![Dashboard Preview](docs/images/dashboard-preview.png)

**功能特性：**

| 模块 | 功能说明 |
|------|---------|
| 💰 **账户总览** | 总资产、可用余额、总盈亏、盈亏百分比 |
| 📊 **当前持仓** | 实时显示所有持仓：币种、方向（多/空）、开仓价、当前价、盈亏 |
| 🤖 **AI决策日志** | 查看AI每次决策的理由和信心度（例如：RSI超卖+MACD金叉→开多） |
| 📈 **收益曲线** | 可视化账户资产变化趋势，看看你是赚了还是亏了 |
| 📋 **交易历史** | 所有已平仓交易的记录：开仓时间、平仓时间、持仓时长、盈亏 |

**实时刷新：** 每30秒自动更新数据，无需手动刷新

**访问方式：**
- 本地访问：`http://localhost:5000`
- 远程访问：配置SSH隧道（教程见下文）

---

### 4. 🛡️ **完善的风险控制 - 不让AI乱来**

**AI虽然聪明，但也需要规矩：**

#### 📏 硬性规则（AI必须遵守）

| 规则 | 说明 | 为什么重要 |
|------|------|----------|
| **单币种上限** | 每个币种最多20%资金 | 防止单币暴跌血亏 |
| **最大持仓数** | 同时最多5个币种 | 避免过度分散，管理不过来 |
| **自动止损** | 单笔亏损3%自动平仓 | 及时止损，避免深套 |
| **自动止盈** | 单笔盈利8%自动平仓 | 落袋为安，不贪心 |
| **杠杆限制** | 默认3倍，最高5倍 | 控制风险，不爆仓 |
| **保证金使用率** | 总仓位不超过总资金 | 留有余地，不满仓 |

#### 🧮 资金管理示例

**假设账户：1000 USDT，3倍杠杆**

```
✅ 允许的操作：
- BTC 开仓 200 USDT（占20%）
- ETH 开仓 200 USDT（占20%）
- SOL 开仓 150 USDT（占15%）
- 总仓位：550 USDT（占55%） → 安全范围

❌ 禁止的操作：
- BTC 开仓 300 USDT → 超过单币种20%上限
- 同时持有6个币种 → 超过最大持仓数5
- 开仓后可用余额不足 → 保证金不足
```

---

### 5. 📈 **技术指标全面 - AI有理有据**

**AI不是瞎猜，每个决策都基于技术分析：**

#### 📊 多维度技术指标

| 指标类型 | 具体指标 | 作用 |
|---------|---------|------|
| **趋势指标** | EMA20、EMA50 | 判断趋势方向（上涨/下跌） |
| **动量指标** | RSI、MACD | 判断超买超卖，找买卖点 |
| **波动指标** | 布林带、ATR | 判断波动率，设置止损 |
| **成交量** | Volume | 确认趋势强度 |

#### 🕐 多时间周期分析

**为什么需要多周期？避免被"假突破"骗！**

```
例子：看1小时K线，BTC突破新高
→ 你以为：要涨了！开多！
→ 结果：4小时级别看是下跌趋势的反弹，随后暴跌
→ 你：被套💔

本系统的做法：
1小时周期：BTC突破，短期看涨 ✅
4小时周期：整体下跌趋势，风险高 ⚠️
→ AI决策：虽然短期涨，但大趋势空，不开仓或开空 ✅
```

**本系统分析：**
- ⏰ **1小时K线**（中期趋势） - 16根历史K线
- ⏰ **4小时K线**（长期趋势） - 10根历史K线
- ✅ **交叉验证** - 两个周期都确认才开仓

---

## 🚀 快速开始

### 📋 前置要求

| 项目 | 要求 | 获取方式 |
|------|------|---------|
| **Python** | 3.11 或更高 | [官网下载](https://www.python.org/) |
| **操作系统** | Linux / macOS / Windows | 推荐Linux服务器24小时运行 |
| **DeepSeek API** | 需要API密钥 | [DeepSeek平台](https://platform.deepseek.com/) 注册获取 |
| **Binance API** | 需要API密钥 | [币安](https://www.binance.com/) 账户设置中创建 |
| **网络** | 稳定的网络连接 | 中国大陆可能需要代理 |

---

### 📝 详细安装步骤

#### 步骤1：克隆项目

```bash
# 克隆仓库
git clone https://github.com/xuanoooooo/ai-trading-bot.git

# 进入项目目录
cd ai-trading-bot
```

#### 步骤2：安装依赖

**方式1：使用安装脚本（推荐）**

```bash
bash scripts/install.sh
```

**方式2：手动安装**

```bash
pip install -r requirements.txt
```

**依赖列表：**
```
python-binance==1.0.19    # 币安API
openai==1.58.1            # DeepSeek API
python-dotenv==1.0.1      # 环境变量管理
schedule==1.2.2           # 定时任务
Flask==3.1.0              # Web看板
Flask-CORS==5.0.0         # 跨域支持
```

#### 步骤3：配置API密钥

**3.1 复制环境变量模板**

```bash
cp .env.example .env
```

**3.2 编辑 `.env` 文件**

```bash
nano .env
# 或使用其他编辑器：vim .env 或 code .env
```

**3.3 填入你的API密钥**

```env
# DeepSeek API 密钥
# 获取地址: https://platform.deepseek.com/api_keys
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here

# 币安 API 密钥
# 获取地址: https://www.binance.com/en/my/settings/api-management
BINANCE_API_KEY=your-binance-api-key-here
BINANCE_SECRET=your-binance-secret-key-here
```

**⚠️ 币安API设置重要提示：**

1. **开通合约交易**：必须先在币安开通期货合约交易
2. **API权限设置**：
   - ✅ 开启交易权限（Enable Trading）
   - ✅ 开启期货权限（Enable Futures）
   - ❌ 不要开启提现权限（安全考虑）
3. **IP白名单**：建议设置IP白名单（可选）

#### 步骤4：配置交易币种

**编辑 `config/coins_config.json`：**

```json
{
  "default_coins": [
    "BTC",      // 比特币
    "ETH",      // 以太坊
    "SOL",      // Solana
    "BNB",      // Binance Coin
    "ADA",      // Cardano
    "XRP",      // Ripple
    "DOGE",     // Dogecoin
    "MATIC"     // Polygon
  ],
  "max_positions": 5,           // 最大同时持仓数量
  "position_size_pct": 20.0,    // 每个仓位占总资金百分比
  "leverage": 3,                // 杠杆倍数（1-5倍）
  "stop_loss_pct": 3.0,         // 止损百分比
  "take_profit_pct": 8.0,       // 止盈百分比
  "scan_interval_minutes": 60   // 市场扫描间隔（分钟）
}
```

**币种选择建议：**

| 风险等级 | 推荐币种 | 特点 |
|---------|---------|------|
| **低风险** | BTC、ETH | 大盘币，波动相对小，流动性好 |
| **中风险** | SOL、BNB、ADA、XRP | 主流币，有一定波动，机会较多 |
| **高风险** | DOGE、SHIB、小币种 | 波动大，机会多但风险高 |

**⚠️ 注意事项：**
- 选择24小时交易量 > 1亿美元的币种
- 避免单价过低的币种（< $0.01）
- 建议大盘币+主流币组合

#### 步骤5：启动交易程序

**方式1：使用启动脚本（推荐）**

```bash
bash scripts/start_trading.sh
```

**方式2：直接运行Python**

```bash
cd src
python portfolio_manager.py
```

**启动成功标志：**

```
🚀 AI驱动自动交易系统启动
💰 初始余额: 1000.00 USDT
⚙️  扫描间隔: 60分钟
🤖 AI将全权决定杠杆、仓位大小、止损止盈等参数

======================================================================
⏰ 2025-10-31 12:00:00 - AI决策周期 #1
======================================================================
🔄 正在调用币安API获取账户余额...
✓ 币安API返回: 总余额=1000.00, 可用=1000.00
📊 账户净值: 1000.00 USDT | 可用: 1000.00 USDT | 持仓: 0
🤖 正在请求AI分析并决策...
```

#### 步骤6：启动可视化看板（可选）

**打开新的终端窗口：**

```bash
cd ai-trading-bot
bash scripts/start_dashboard.sh
```

**或直接运行：**

```bash
cd dashboard
python web_app.py
```

**访问看板：**
- 本地访问：http://localhost:5000
- 远程访问：http://你的服务器IP:5000

**看板启动成功：**

```
 * Running on http://0.0.0.0:5000
 * Running on http://127.0.0.1:5000
```

---

## 🧠 AI决策逻辑详解

### 🔄 完整工作流程

```
┌─────────────────────────────────────────────────────────────┐
│  第1步：市场扫描（每小时触发）                                    │
├─────────────────────────────────────────────────────────────┤
│  ↓ 扫描配置的所有币种（BTC、ETH、SOL等）                         │
│  ↓ 获取1小时 + 4小时K线数据                                     │
│  ↓ 计算技术指标（RSI、MACD、EMA、布林带等）                      │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│  第2步：AI分析                                                 │
├─────────────────────────────────────────────────────────────┤
│  DeepSeek AI 收到的信息：                                      │
│  - 当前投资组合状态（总资产、可用余额、持仓数量）                    │
│  - 所有持仓详情（币种、方向、盈亏、持仓时长）                       │
│  - 每个币种的市场数据：                                          │
│    ✓ 当前价格                                                  │
│    ✓ 1小时K线（16根）+ 技术指标                                 │
│    ✓ 4小时K线（10根）+ 技术指标                                 │
│    ✓ RSI、MACD、EMA、布林带等                                  │
│  - 历史表现（胜率、盈亏等）                                       │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│  第3步：AI决策                                                 │
├─────────────────────────────────────────────────────────────┤
│  AI对每个币种给出决策：                                          │
│  {                                                            │
│    "coin": "BTC",                                            │
│    "action": "OPEN_SHORT",  // 开空仓                         │
│    "confidence": 85,         // 信心度85%                     │
│    "reasoning": "BTC价格突破布林带上轨，RSI超买(72)，          │
│                  MACD顶背离，1h和4h都确认下跌趋势"             │
│  }                                                            │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│  第4步：风险检查                                               │
├─────────────────────────────────────────────────────────────┤
│  ✅ 是否超过最大持仓数（5个）？                                   │
│  ✅ 是否超过单币种资金上限（20%）？                               │
│  ✅ 可用余额是否充足？                                           │
│  ✅ AI信心度是否达标（> 70）？                                   │
│  ❌ 任何一项不通过 → 拒绝执行                                    │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│  第5步：执行交易                                               │
├─────────────────────────────────────────────────────────────┤
│  通过币安API执行：                                              │
│  1. 设置杠杆（3倍）                                             │
│  2. 开仓（LONG或SHORT）                                        │
│  3. 设置止损（-3%）                                            │
│  4. 设置止盈（+8%）                                            │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│  第6步：记录保存                                               │
├─────────────────────────────────────────────────────────────┤
│  保存到文件：                                                  │
│  - ai_decisions.json（AI决策记录）                            │
│  - portfolio_stats.json（交易统计）                           │
│  - portfolio_manager.log（完整日志）                          │
└─────────────────────────────────────────────────────────────┘
```

### 📊 AI决策示例

**场景1：BTC看空机会**

```json
{
  "timestamp": "2025-10-31 14:00:00",
  "market_data": {
    "BTC": {
      "price": 68500,
      "1h_rsi": 72,           // 超买
      "1h_macd": -150,        // 死叉
      "price_vs_ema20": "+2%", // 价格高于EMA20
      "bollinger": "上轨突破"
    }
  },
  "ai_decision": {
    "action": "OPEN_SHORT",
    "confidence": 88,
    "reasoning": "BTC价格突破布林带上轨，RSI超买(72)表明短期过热，MACD出现死叉确认下跌趋势，1h和4h周期都显示看空信号，建议开空仓"
  }
}
```

**场景2：ETH看多机会**

```json
{
  "timestamp": "2025-10-31 15:00:00",
  "market_data": {
    "ETH": {
      "price": 3650,
      "1h_rsi": 35,           // 超卖
      "1h_macd": +80,         // 金叉
      "price_vs_ema20": "-1%", // 价格接近EMA20
      "bollinger": "下轨反弹"
    }
  },
  "ai_decision": {
    "action": "OPEN_LONG",
    "confidence": 82,
    "reasoning": "ETH在布林带下轨获得支撑并反弹，RSI超卖(35)显示价格被低估，MACD金叉确认上涨动能，4h周期趋势向上，建议开多仓"
  }
}
```

**场景3：持仓管理**

```json
{
  "timestamp": "2025-10-31 16:00:00",
  "current_position": {
    "SOL": {
      "side": "LONG",
      "entry_price": 185,
      "current_price": 195,
      "profit_pct": 5.4,
      "holding_time": "3 hours"
    }
  },
  "ai_decision": {
    "action": "HOLD",
    "reasoning": "SOL多仓已盈利5.4%，但未达到止盈目标(8%)，当前RSI 55处于中性区域，MACD仍为正值显示上涨趋势延续，建议继续持有"
  }
}
```

---

## 📊 系统架构

### 🗂️ 项目结构

```
ai-trading-bot/
├── src/                              # 核心代码目录
│   ├── portfolio_manager.py          # 投资组合管理器（主程序）
│   │   ├── 账户管理
│   │   ├── AI决策引擎
│   │   ├── 交易执行
│   │   └── 风险控制
│   ├── market_scanner.py             # 市场数据扫描器
│   │   ├── K线数据获取
│   │   ├── 技术指标计算
│   │   └── 币种筛选
│   └── portfolio_statistics.py       # 交易统计模块
│       ├── 盈亏统计
│       ├── 胜率计算
│       └── 交易记录管理
│
├── dashboard/                        # Web可视化看板
│   ├── web_app.py                   # Flask应用主程序
│   ├── static/                      # 静态资源
│   │   ├── style.css               # 样式表
│   │   └── app.js                  # 前端JavaScript
│   └── templates/                   # HTML模板
│       └── index.html              # 看板页面
│
├── config/                           # 配置文件
│   └── coins_config.json            # 币种和参数配置
│
├── scripts/                          # 启动脚本
│   ├── install.sh                   # 一键安装脚本
│   ├── start_trading.sh             # 启动交易程序
│   └── start_dashboard.sh           # 启动可视化看板
│
├── .env.example                     # 环境变量模板
├── requirements.txt                 # Python依赖
├── README.md                        # 项目说明（主页）
├── README_CN.md                     # 中文完整文档
├── README_EN.md                     # English Documentation
├── CHANGELOG.md                     # 更新日志
└── LICENSE                          # Apache 2.0许可证
```

### 🔄 数据流图

```
用户
 │
 ├─► 配置 ──────────► config/coins_config.json
 │                   .env (API密钥)
 │
 └─► 启动程序
      │
      ▼
 ┌─────────────────────────────────────┐
 │   portfolio_manager.py              │
 │   （主控制器）                        │
 └─────────────────────────────────────┘
      │
      ├──► market_scanner.py
      │    （获取市场数据）
      │     │
      │     ├─► Binance API
      │     │   （K线、价格、持仓）
      │     │
      │     └─► 技术指标计算
      │         （RSI、MACD等）
      │
      ├──► DeepSeek AI API
      │    （分析并决策）
      │     │
      │     └─► AI返回决策
      │         （开仓/平仓/持有）
      │
      ├──► 风险检查
      │    （验证决策合规性）
      │
      ├──► Binance API
      │    （执行交易）
      │
      └──► portfolio_statistics.py
           （保存记录和统计）
            │
            ├─► ai_decisions.json
            ├─► portfolio_stats.json
            └─► portfolio_manager.log
                     │
                     ▼
              ┌─────────────────┐
              │  web_app.py     │
              │  （看板服务）    │
              └─────────────────┘
                     │
                     ▼
              浏览器访问看板
              http://localhost:5000
```

---

## 📝 数据文件说明

### 📄 文件列表

| 文件名 | 作用 | 更新频率 |
|--------|------|---------|
| `portfolio_manager.log` | 完整运行日志 | 实时 |
| `portfolio_stats.json` | 交易统计数据 | 每次交易后 |
| `ai_decisions.json` | AI决策记录 | 每小时 |
| `current_runtime.json` | 程序运行状态 | 每小时 |

### 📊 `portfolio_stats.json` 结构

```json
{
  "summary": {
    "total_trades": 25,              // 总交易次数
    "winning_trades": 18,            // 盈利交易数
    "losing_trades": 7,              // 亏损交易数
    "win_rate": 72.0,                // 胜率(%)
    "total_pnl": 156.78,             // 总盈亏(USDT)
    "total_pnl_pct": 15.68,          // 总盈亏(%)
    "avg_win": 12.5,                 // 平均盈利
    "avg_loss": -8.3,                // 平均亏损
    "profit_factor": 1.88,           // 盈亏比
    "max_drawdown": -45.2,           // 最大回撤
    "sharpe_ratio": 1.25             // 夏普比率
  },
  "trades": [
    {
      "coin": "BTC",
      "side": "SHORT",               // 空仓
      "entry_price": 68500,
      "exit_price": 67200,
      "pnl": 45.6,                   // 盈利45.6 USDT
      "pnl_pct": 5.2,
      "duration": "2h 15m",
      "open_time": "2025-10-31 10:00",
      "close_time": "2025-10-31 12:15",
      "reason": "目标止盈"
    }
  ]
}
```

### 🤖 `ai_decisions.json` 结构

```json
{
  "decisions": [
    {
      "timestamp": "2025-10-31 14:00:00",
      "cycle": 5,                    // 第5次决策周期
      "account": {
        "equity": 1156.78,
        "available": 678.90,
        "positions": 2
      },
      "decisions": [
        {
          "coin": "BTC",
          "action": "HOLD",
          "confidence": 75,
          "reasoning": "BTC多仓盈利4.5%，RSI 58中性，建议继续持有"
        },
        {
          "coin": "ETH",
          "action": "CLOSE",
          "confidence": 82,
          "reasoning": "ETH已达止盈目标8.2%，RSI超买，建议平仓止盈"
        },
        {
          "coin": "SOL",
          "action": "OPEN_SHORT",
          "confidence": 88,
          "reasoning": "SOL突破布林带上轨，RSI 75超买，MACD死叉，建议开空"
        }
      ]
    }
  ]
}
```

---

## 🔍 监控和管理

### 📊 查看实时日志

```bash
# 查看最新100行日志
tail -100 portfolio_manager.log

# 实时监控日志（Ctrl+C退出）
tail -f portfolio_manager.log

# 只看AI决策部分
tail -f portfolio_manager.log | grep "AI决策"

# 只看交易执行部分
tail -f portfolio_manager.log | grep "开仓\|平仓"
```

### 📈 查看统计数据

```bash
# 查看交易统计摘要
cat portfolio_stats.json | jq '.summary'

# 查看最近5笔交易
cat portfolio_stats.json | jq '.trades[-5:]'

# 查看当前盈亏
cat portfolio_stats.json | jq '.summary.total_pnl'

# 查看胜率
cat portfolio_stats.json | jq '.summary.win_rate'
```

### 🤖 查看AI决策

```bash
# 查看最近5次AI决策
cat ai_decisions.json | jq '.decisions[-5:]'

# 查看某个币种的决策
cat ai_decisions.json | jq '.decisions[] | select(.decisions[].coin == "BTC")'

# 统计AI信心度
cat ai_decisions.json | jq '.decisions[].decisions[].confidence' | awk '{sum+=$1; count++} END {print "平均信心度:", sum/count}'
```

### 🖥️ 进程管理

```bash
# 查看程序是否运行
ps aux | grep portfolio_manager

# 停止程序（温和）
pkill -15 -f portfolio_manager

# 强制停止程序
pkill -9 -f portfolio_manager

# 查看程序占用资源
top -p $(pgrep -f portfolio_manager)
```

---

## ⚠️ 风险提示

### 🚨 重要警告

**加密货币交易存在极高风险，请务必了解：**

| ⚠️ 风险类型 | 详细说明 | 可能后果 |
|---------|---------|---------|
| **本金风险** | 可能导致本金部分或全部亏损 | 💸 亏掉本金 |
| **杠杆风险** | 3倍杠杆放大盈亏，亏损可能超过预期 | 📉 快速爆仓 |
| **市场风险** | 行情剧烈波动可能导致快速亏损 | 💔 瞬间血亏 |
| **技术风险** | 网络故障、API问题、程序bug | 🐛 交易失败 |
| **AI风险** | AI不保证盈利，可能做出错误决策 | 🤖 判断失误 |
| **流动性风险** | 极端行情下无法及时平仓 | 🔒 被套牢 |

### 📊 真实案例（警示）

**案例1：单币种暴跌**
```
账户：1000 USDT
操作：全仓买入 LUNA（3倍杠杆）
结果：LUNA暴跌99% → 爆仓，损失1000 USDT
教训：不要单币种满仓，要分散投资
```

**案例2：过度杠杆**
```
账户：500 USDT
操作：5倍杠杆做多 BTC
结果：BTC下跌20% → 爆仓（5倍杠杆只需跌20%）
教训：杠杆不要超过3倍，控制风险
```

**案例3：不设止损**
```
账户：2000 USDT
操作：买入某币种，不设止损
结果：币种下跌50%，舍不得割肉 → 深套
教训：一定要设置止损，及时止损
```

### ✅ 安全使用建议

#### 1. 资金管理

```
✅ 正确做法：
- 初始投入：100-500 USDT（测试阶段）
- 单笔风险：不超过账户的3%
- 总仓位：不超过账户的60%
- 保留余额：至少40%用于应对风险

❌ 错误做法：
- 把所有资金都投入
- 单笔投入过大
- 满仓操作
- 没有应急资金
```

#### 2. 杠杆使用

```
✅ 正确做法：
- 新手：1-2倍杠杆
- 有经验：3倍杠杆（默认）
- 激进型：最高5倍

❌ 错误做法：
- 盲目使用高杠杆
- 不了解杠杆风险
- 认为杠杆越高赚越多
```

#### 3. 止损策略

```
✅ 正确做法：
- 每笔交易都设止损（3%）
- 触及止损果断离场
- 不要心存侥幸

❌ 错误做法：
- 不设止损
- 止损了不甘心，再次进场
- "等等看，说不定会涨回来"
```

#### 4. 心态管理

```
✅ 正确做法：
- 把交易当成投资，不是赌博
- 接受亏损是正常的
- 不要追求暴富
- 长期稳定盈利才是目标

❌ 错误做法：
- 输了就想翻本
- 赢了就加大仓位
- 情绪化交易
- 盲目跟风
```

---

## 🐛 常见问题

### Q1: 如何修改交易币种？

**A:** 编辑 `config/coins_config.json`，修改 `default_coins` 数组：

```json
{
  "default_coins": ["BTC", "ETH", "SOL", "BNB", "ADA"]
}
```

支持的币种：所有币安USDT期货合约的币种，例如：
- 大盘：BTC, ETH
- 主流：SOL, BNB, ADA, XRP, DOT, AVAX
- Meme：DOGE, SHIB
- DeFi：UNI, AAVE, LINK

### Q2: API连接失败怎么办？

**A:** 排查步骤：

1. **检查网络连接**
   ```bash
   ping binance.com
   ```

2. **检查API密钥是否正确**
   ```bash
   cat .env | grep BINANCE
   ```

3. **检查API权限**
   - 登录币安 → API管理 → 查看权限设置
   - 确保开启了"交易"和"期货"权限

4. **中国大陆用户需要代理**
   ```bash
   # 使用代理（示例）
   export https_proxy=http://127.0.0.1:7890
   python portfolio_manager.py
   ```

### Q3: 程序突然停止运行？

**A:** 可能原因和解决方法：

| 原因 | 检查方法 | 解决方法 |
|------|---------|---------|
| **网络断开** | `ping binance.com` | 检查网络，重启程序 |
| **API限流** | 查看日志是否有429错误 | 等待1分钟后重启 |
| **余额不足** | 登录币安查看余额 | 充值USDT |
| **程序错误** | `cat portfolio_manager.log | tail -50` | 查看错误信息 |

### Q4: AI决策不符合预期？

**A:** 理解AI的决策逻辑：

AI不是神，它也会犯错。但它的优势在于：
- ✅ 不会情绪化交易
- ✅ 严格执行止损
- ✅ 24小时不间断监控
- ✅ 基于数据而非感觉

如果你觉得AI决策有问题：
1. 查看 `ai_decisions.json` 了解AI的决策理由
2. 调整配置参数（止损、止盈、杠杆等）
3. 更换交易币种
4. 先小金额测试AI的风格

### Q5: 如何停止交易并平仓所有持仓？

**A:** 步骤：

1. **停止程序**
   ```bash
   pkill -f portfolio_manager
   ```

2. **手动平仓（推荐）**
   - 登录币安
   - 期货 → 持仓 → 逐个平仓

3. **或使用看板平仓**
   - 访问 http://localhost:5000
   - 查看持仓 → 点击平仓按钮

### Q6: 可以在Windows上运行吗？

**A:** 可以！但推荐Linux服务器24小时运行。

**Windows运行步骤：**

1. 安装Python 3.11+
2. 打开PowerShell或CMD
3. 执行安装命令：
   ```cmd
   pip install -r requirements.txt
   ```
4. 配置 `.env` 文件
5. 运行：
   ```cmd
   cd src
   python portfolio_manager.py
   ```

**注意：** Windows关机程序就会停止，推荐用服务器。

### Q7: 支持其他交易所吗（OKX、Bybit）？

**A:** 目前只支持币安（Binance）。

后续计划支持：
- [ ] OKX
- [ ] Bybit  
- [ ] Gate.io

如果你会编程，欢迎提交PR添加其他交易所支持！

### Q8: 如何远程访问看板？

**A:** 两种方式：

**方式1：SSH隧道（推荐，安全）**

在本地电脑执行：
```bash
ssh -L 5000:localhost:5000 user@你的服务器IP
```

然后访问：http://localhost:5000

**方式2：直接访问（需要服务器安全组开放端口）**

访问：http://你的服务器IP:5000

⚠️ 注意：直接暴露端口存在安全风险，建议配置防火墙或使用SSH隧道。

---

## 📄 许可证

本项目采用 [Apache 2.0](LICENSE) 许可证

---

## ⚖️ 免责声明

**请务必仔细阅读：**

1. 本软件仅供学习和研究使用
2. 使用本软件进行实盘交易的任何盈亏由用户自行承担
3. 作者不对使用本软件造成的任何损失负责
4. 加密货币交易具有高风险，请谨慎投资
5. 不要投入无法承受损失的资金
6. 本项目不构成任何投资建议

**使用本软件即表示您已充分理解并接受以上风险。**

---

## 💰 支持项目

如果这个项目对你有帮助，欢迎支持一下：

**钱包地址 (BEP20/BSC)**
```
0x59B7c28c236E6017df28e7F376B84579872A4E33
```

您的支持是我持续更新的动力 ❤️

---

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发计划

- [ ] 支持更多交易所（OKX、Bybit）
- [ ] 添加Telegram通知功能
- [ ] 优化AI决策逻辑
- [ ] 添加回测功能
- [ ] 移动端看板
- [ ] 自动调参功能
- [ ] 策略回测系统

### 如何贡献

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交改动 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 提交 Pull Request

---

<div align="center">

**⭐ 如果这个项目对你有帮助，欢迎Star支持！⭐**

**没有收费，没有邀请码，只求各位给个星星** 🌟

Made with ❤️ by AI Trading Community

[返回顶部](#-ai多币种自动交易系统)

</div>
