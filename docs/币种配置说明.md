# 🔧 币种配置说明 - 如何修改交易币种

## 📌 概述

本项目默认交易 **BNB/USDT**，如果你想交易其他币种（如ETH、DOGE、SOL等），需要修改以下几个地方。

---

## 🎯 需要修改的文件和位置

### 1️⃣ **主配置文件** `src/deepseekBNB.py`

#### 位置1: 交易配置（第92行附近）

```python
# 交易配置
TRADE_CONFIG = {
    'symbol': 'BNBUSDT',      # ← 修改这里：币种交易对
    'leverage': 3,             # ← 可选修改：杠杆倍数
    'min_order_qty': 0.01,     # ← 必须修改：最小交易数量（见下表）
}
```

#### 位置2: 市场数据文本（第517行附近）

```python
market_text = f"""
【BNB/USDT市场数据】  # ← 修改显示名称
```

#### 位置3: AI提示词（第530行附近）

```python
prompt = f"""
你是一位专业的日内交易员，负责BNB/USDT合约交易（3倍杠杆）。  # ← 修改币种名称
```

---

## 📊 常见币种配置参考

| 币种 | symbol | min_order_qty | 精度 | 说明 |
|------|--------|---------------|------|------|
| BNB | BNBUSDT | 0.01 | 2位小数 | 币安币 |
| ETH | ETHUSDT | 0.001 | 3位小数 | 以太坊 |
| BTC | BTCUSDT | 0.001 | 3位小数 | 比特币 |
| DOGE | DOGEUSDT | 10 | 0位小数 | 狗狗币 |
| SOL | SOLUSDT | 0.1 | 1位小数 | Solana |
| XRP | XRPUSDT | 1 | 0位小数 | 瑞波币 |

> ⚠️ **重要**：`min_order_qty` 和精度必须符合币安交易所要求，否则会报错！

---

## 🔍 如何查询币安交易所规则

### 方法1: 通过币安官网
1. 登录 [币安合约](https://www.binance.com/zh-CN/futures)
2. 搜索你要交易的币种
3. 查看交易规则（最小数量、价格精度）

### 方法2: 通过API查询（推荐）

运行以下Python代码查询：

```python
from binance.client import Client

client = Client(api_key='your_key', api_secret='your_secret')
info = client.futures_exchange_info()

# 查找特定币种
symbol = 'ETHUSDT'
for s in info['symbols']:
    if s['symbol'] == symbol:
        print(f"币种: {s['symbol']}")
        print(f"精度: {s['quantityPrecision']}")
        for f in s['filters']:
            if f['filterType'] == 'LOT_SIZE':
                print(f"最小数量: {f['minQty']}")
                print(f"步长: {f['stepSize']}")
```

---

## 📝 完整修改示例：从BNB改为ETH

### 步骤1: 修改 `src/deepseekBNB.py` 第92行附近

```python
TRADE_CONFIG = {
    'symbol': 'ETHUSDT',      # BNB改为ETH
    'leverage': 3,
    'min_order_qty': 0.001,   # ETH最小0.001个
}
```

### 步骤2: 修改精度处理（第661行附近）

找到 `calculate_position_size()` 函数中的精度处理：

```python
# 2. 精度处理：ETH保留3位小数
amount = round(raw_amount, 3)  # BNB是2位，ETH是3位

# 3. 最小数量检查
min_safe_amount = 0.001  # ETH最小0.001个（BNB是0.01）
```

### 步骤3: 修改显示文本（第517行和530行）

```python
# 第517行
market_text = f"""
【ETH/USDT市场数据】  # 改为ETH

# 第530行
prompt = f"""
你是一位专业的日内交易员，负责ETH/USDT合约交易（3倍杠杆）。  # 改为ETH
```

### 步骤4: 修改日志文件名（可选，第33行）

```python
log_handler = RotatingFileHandler(
    'eth_trader.log',  # 改为eth_trader.log
    maxBytes=10*1024*1024,
    backupCount=3,
    encoding='utf-8'
)
```

### 步骤5: 重启程序

```bash
# 停止当前程序
pkill -f deepseekBNB.py

# 启动新配置
cd src && python deepseekBNB.py
```

---

## ⚠️ 常见错误和解决方案

### 错误1: `APIError(code=-1111): Precision is over the maximum`

**原因**: 交易数量精度不符合要求

**解决**: 检查并修改 `round(amount, X)` 的位数：
- BNB: 2位小数
- ETH/BTC: 3位小数
- DOGE/XRP: 0位小数（整数）

### 错误2: `APIError(code=-1013): Filter failure: LOT_SIZE`

**原因**: 交易数量小于最小要求

**解决**: 增加 `min_order_qty` 或提高仓位百分比

### 错误3: `Symbol XXXUSDT not found`

**原因**: 币种符号错误或币安不支持该合约

**解决**: 
1. 检查拼写（必须全大写，如 ETHUSDT）
2. 确认币安有该合约（不是所有币种都有合约）

---

## 🎯 推荐币种选择标准

适合AI交易的币种特点：
- ✅ **流动性高** - 24小时交易量大
- ✅ **波动适中** - 不要太剧烈也不要太平淡
- ✅ **主流币种** - BTC、ETH、BNB等
- ❌ **避免小币种** - 容易被操纵，流动性差

**推荐新手币种**：
1. BNB - 波动适中，流动性好（默认）
2. ETH - 主流币种，交易量大
3. SOL - 新兴主流，波动较大

**不推荐**：
- 市值排名100名以外的币种
- 24小时交易量低于1000万美元的币种
- 价格波动超过±20%/日的币种

---

## 📞 需要帮助？

如果修改后遇到问题：
1. 检查日志文件 `bnb_trader.log`（或你改的名字）
2. 确认币安账户已开通该币种合约交易
3. 确认该币种在币安有永续合约（不是所有币种都有）

---

## 🔗 相关资源

- [币安合约交易规则](https://www.binance.com/zh-CN/futures/trading-rules)
- [币安API文档](https://binance-docs.github.io/apidocs/futures/cn/)
- [python-binance文档](https://python-binance.readthedocs.io/)

---

**💡 提示**：修改币种后，建议先用小金额测试几天，观察AI的表现再逐步加仓。

